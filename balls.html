<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>

<div class="header"><a href="index.html"> [Меню] </a> <strong> > | Задание 7 | </strong></div>
<div class="container">
    <canvas id="c1" width="500" height="300" style="border: 0px solid rgba(255, 241, 5, 0.08)"
            onclick="init(event)"></canvas>

    <script>
        var canvas = document.getElementById("c1");
        var ctx = canvas.getContext("2d");
        var bordLeft = canvas.offsetLeft;
        var bordTop = canvas.offsetTop;
        var dx = 10;
        var dy = 20;
        var x = 0;
        var y = 0;
        var radius = 10;
        var ball;
        var back;


        function init(e) {
            ball = new circle(e.x, e.y);
            back = new rectBack();
            setInterval(draw, 1000 / 10);
        }

        function draw() {
            back.draw();
            ball.draw();
            update();
        }

        function rectBack() {

            this.draw = function () {
                ctx.fillStyle = "rgb(255,255,255)";
                ctx.rect(0, 0, canvas.width, canvas.height);
                ctx.fill();
            }
        }

        function circle(x, y) {
            this.x = x;
            this.y = y;
            var colors = ["Yellow", "Red", "Green", "Blue", "Cyan", "Orange", "Black", "Grey"];
            var random = Math.floor(Math.random() * colors.length);

            this.draw = function () {
                ctx.fillStyle = colors[random];
                ctx.beginPath();
                ctx.arc(this.x - bordLeft, this.y - bordTop, radius, 0, 2 * Math.PI);
                ctx.fill();
            }
        }

        function update() {
            if (ball.x >= canvas.width - radius + bordLeft || ball.x - 2 * radius - bordLeft < 0) {
                dx = -dx;
            }
            if (ball.y >= canvas.height - radius + bordTop || ball.y - 2 * radius - bordTop < 0) {
                dy = -dy;
            }
            ball.x += dx;
            ball.y += dy;
        }
    </script>
</div>
</body>
</html>